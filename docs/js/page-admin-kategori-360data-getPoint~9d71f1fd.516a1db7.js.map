{"version":3,"sources":["webpack:///./src/pages/admin/kategori/360data/getPoint.vue?f041","webpack:///src/pages/admin/kategori/360data/getPoint.vue","webpack:///./src/pages/admin/kategori/360data/getPoint.vue?ea65","webpack:///./src/pages/admin/kategori/360data/getPoint.vue"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticStyle","attrs","component"],"mappings":"wJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAsBH,EAAII,MAAMC,GAAO,OAAOL,EAAIM,GAAG,IACnGC,EAAkB,CAAC,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBE,EAAGL,EAAII,MAAMC,IAAIH,EAAG,OAAOG,EAAG,MAAM,CAACA,EAAG,MAAM,CAACG,YAAY,CAAC,OAAS,QAAQ,MAAQ,SAASC,MAAM,CAAC,GAAK,mB,oCCOzL,aACA,GACE,WAAF,CACI,QAAJ,QAEE,KAJF,WAKI,MAAJ,CACM,MAAN,GACM,UAAN,GACM,MAAN,EACM,OAAN,EACM,YAAN,GACM,IAAN,SACM,MAAN,GACM,KAAN,GACM,MAAN,OAGE,QAAF,CACI,KADJ,WAEM,UAAN,iDACQ,EAAR,uDACA,YACQ,EAAR,mCAGI,WARJ,WAQM,IAAN,OACM,KAAN,SACM,EAAN,iHACQ,EAAR,UACQ,EAAR,SACQ,EAAR,mBAGI,QAhBJ,WAgBM,IAAN,OACM,EAAN,mJACQ,QAAR,OACQ,EAAR,QACQ,EAAR,mBAGI,aAvBJ,WAuBM,IAAN,OACM,EAAN,qJACQ,QAAR,OACQ,EAAR,YACQ,EAAR,oBAIE,QAhDF,WAgDI,IAAJ,OACI,KAAJ,UACI,EAAJ,oQACA,kBACM,QAAN,aACM,YAAN,WACQ,IACR,QADA,IAEQ,EAAR,qCACQ,EAAR,8CACQ,EAAR,gDACU,EAAV,iEAEQ,EAAR,sCAEU,GADA,EAAV,UACA,uBAAU,CACA,IAAV,sDAEU,UAAV,wDACY,EAAZ,8DACY,EAAZ,0CACY,YAAZ,WACc,OAAd,UACA,QACA,YACY,EAAZ,kCAGU,EAAV,mBAEQ,EAAR,qBACU,UAAV,EACU,YAAV,EACU,eAAV,EACU,OAAV,UACU,cAAV,KAKQ,EAAR,SACQ,QAAR,OAEQ,EAAR,oCAGA,KACM,EAAN,oBCxG+X,I,YCO3XC,EAAY,eACd,EACAX,EACAQ,GACA,EACA,KACA,KACA,MAIa,aAAAG,E","file":"js/page-admin-kategori-360data-getPoint~9d71f1fd.516a1db7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"height\":\"100vh\",\"width\":\"100vw\"},attrs:{\"id\":\"container\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div id=\"container\" style=\"height:100vh;width:100vw;\"></div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport autophp from \"@/plugins/autophp.js\"; // ganti source nya\r\nimport Btables from \"@/components/Btables.vue\"; //component btable nya\r\nlet sdb = new autophp();\r\nexport default{\r\n    components:{\r\n        Btables\r\n    },\r\n    data(){\r\n        return{\r\n            photo:[],\r\n            listphoto:[],\r\n            show:false,\r\n            ready:false,\r\n            gambarUtama:'',\r\n            btn:'tambah',\r\n            vdata:{},\r\n            info:{},\r\n            point:null\r\n        }\r\n    },\r\n    methods: {\r\n        kopy(){\r\n            navigator.clipboard.writeText(this.point).then(function() {\r\n             sdb.alert('Copying Point ke Clipboard!','bg-green-400');\r\n            }, function(err) {\r\n             sdb.alert('Could not copy text: ');\r\n            });\r\n        },\r\n        getDatanya(){\r\n            this.ready=false;\r\n            sdb.collection(\"app_gis_360data_hotspot\",false).doc().select(`select * from app_gis_360data_hotspot`).then(res => {\r\n                this.datanya=res;\r\n                this.ready=true;\r\n                this.$forceUpdate();\r\n            });\r\n        },\r\n        getData(){\r\n            sdb.collection(\"app_gis_360data\",false).doc().select(`select * from app_gis_360data where id='${this.$route.query.idgambar}'`).then(res => {\r\n                console.log(res);\r\n                this.photo=res;\r\n                this.$forceUpdate();\r\n            });\r\n        },\r\n        getListPhoto(){\r\n            sdb.collection(\"app_gis_360data\",false).doc().select(`select * from app_gis_360data where idpeta='${this.$route.query.idpeta}'`).then(res => {\r\n                console.log(res);\r\n                this.listphoto=res;\r\n                this.$forceUpdate();\r\n            });\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getData();\r\n          sdb.collection(\"app_gis_360data_hotspot\",false).doc().select(`select *,tb1.id as id,tb2.id as idgambar,tb1.gambar as gambar2,tb2.gambar as gambar1 ,tb1.point as point1\r\n          from app_gis_360data_hotspot tb1 left join app_gis_360data tb2 on tb2.id=tb1.idgambar`).then(res => {\r\n              console.log('360',res)\r\n                setTimeout(() => {\r\n                    let that=this;\r\n                    var panorama, panorama2, viewer, container, infospot;\r\n                        container = document.querySelector( '#container' );\r\n                        panorama = new PANOLENS.ImagePanorama( this.photo[0].gambar );\r\n                        panorama.addEventListener( 'enter-fade-start', function(){ //set posisi pertama di gambar\r\n                            viewer.tweenControlCenter( new THREE.Vector3(3800.69, -1119.69, 5000.00), 0 );\r\n                        });\r\n                        panorama.addEventListener(\"click\", function(e){\r\n                            that.show=true;\r\n                            if (e.intersects.length > 0) return;\r\n                            const a = viewer.raycaster.intersectObject(viewer.panorama, true)[0].point;\r\n                            // that.point=JSON.stringify(a)\r\n                            navigator.clipboard.writeText(JSON.stringify(a)).then(function() {\r\n                                sdb.alert('Copy berhasil, Paste ke initial Route','bg-green-400');\r\n                                that.$store.state.data.point=JSON.stringify(a);\r\n                                setTimeout(() => {\r\n                                    window.close();\r\n                                }, 2000);\r\n                            }, function(err) {\r\n                                sdb.alert('Could not copy text: ');\r\n                            });                   \r\n                            \r\n                            that.$forceUpdate();\r\n                        });\r\n                        viewer = new PANOLENS.Viewer( { \r\n                            container: container, \r\n                            controlBar: true,  \r\n                            viewIndicator: true,  \r\n                            output: 'console', \r\n                            indicatorSize: 30,   \r\n                            // autoRotate: true, \r\n                            // autoRotateSpeed: 1, \r\n                            // autoRotateActivationDuration: 5000\r\n                        } );\r\n                        viewer.add( panorama, panorama2 );\r\n                        console.log(viewer)\r\n\r\n                        viewer.addUpdateCallback(function(){\r\n                        \r\n                        });\r\n                }, 2000);\r\n                this.$forceUpdate();\r\n            });\r\n    },\r\n    // metaInfo: {\r\n    //     script: [\r\n    //         {\r\n    //             src: \"https://gis.egov.balangankab.go.id/files/three.min.js\"\r\n    //         },\r\n    //         {\r\n    //             src: \"https://gis.egov.balangankab.go.id/files/panolens.js\"\r\n    //         },\r\n    //     ]\r\n    // }\r\n}\r\n</script>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./getPoint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./getPoint.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./getPoint.vue?vue&type=template&id=44841bce&\"\nimport script from \"./getPoint.vue?vue&type=script&lang=js&\"\nexport * from \"./getPoint.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}