(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-admin-index~6773c5d6"],{4208:function(t,a,e){"use strict";e.r(a);var s,n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("form",{on:{submit:function(a){return a.preventDefault(),t.submit(a)}}},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-11"},[e("div",{staticClass:"rounded-lg p-3"},[t.vdata.id?e("button",{staticClass:"btn btn-sm btn-style9 float-right",attrs:{type:"button"},on:{click:function(a){return t.pilihpeta(t.vdata.id,t.vdata.kategori)}}},[t._v("Ganti Peta")]):t._e(),e("br"),e("hr",{staticClass:"mt-2 mb-2"}),e("p",{staticClass:"float-right"},[t._v("Peta yang dipilih : "),e("button",{staticClass:"btn btn-sm btn-success  ",attrs:{type:"button"},on:{click:function(a){return t.$router.push("/office?id=2sz3jsdn9ndanas2&token=Aew"+t.uniqid+"&cat="+t.$store.state.data.idpeta+"&idpeta="+t.uniqid+"-x23asodjiwdw")}}},[t._v(" "+t._s(t.$store.state.data.kategori)+" ")])]),t.$store.state.data.kategori?e("div",[e("button",{staticClass:"btn btn-sm btn-dark  ml-1",attrs:{type:"button"},on:{click:function(a){return t.$router.push("/admin/floorplan?id="+t.$store.state.data.idpeta)}}},[t._v("+ Floorplan")]),e("button",{staticClass:"btn btn-sm btn-dark  ml-1",attrs:{type:"button"},on:{click:function(a){return t.$router.push("/admin/kategori/floorplan?id="+t.$store.state.data.idpeta+"&nama="+t.$store.state.data.kategori)}}},[t._v("+ Marker")]),e("button",{staticClass:"btn btn-sm btn-dark  ml-1",attrs:{type:"button"},on:{click:function(a){return t.$router.push("/admin/kategori/room?id="+t.$store.state.data.idpeta+"&nama="+t.$store.state.data.kategori)}}},[t._v("+ Data Rumah/Ruang")]),e("button",{staticClass:"btn btn-sm btn-dark  ml-1",attrs:{type:"button"},on:{click:function(a){return t.$router.push("/admin/kategori/360data?id="+t.$store.state.data.idpeta+"&nama="+t.$store.state.data.kategori)}}},[t._v("+ 360 Data")]),e("hr",{staticClass:"mt-1 mb-1"}),e("button",{staticClass:"btn btn-sm btn-dark  ml-1",attrs:{type:"button"},on:{click:function(a){return t.$router.push("/admin/kategori/floorplan?id="+t.$store.state.data.idpeta+"&nama="+t.$store.state.data.kategori+"&geo=true")}}},[t._v("Create GeoJSON")]),e("button",{staticClass:"btn btn-sm btn-dark  ml-1",attrs:{type:"button"},on:{click:function(a){return t.$router.push("/admin/kategori/geojson?id="+t.$store.state.data.idpeta+"&nama="+t.$store.state.data.kategori)}}},[t._v("Upload Geojson")]),e("button",{staticClass:"btn btn-sm btn-style2  ml-1",attrs:{type:"button"},on:{click:function(a){return t.$router.push("/admin/fasilitas?id="+t.$store.state.data.idpeta+"&nama="+t.$store.state.data.kategori)}}},[t._v("List Fasilitas")])]):t._e(),e("button",{staticClass:"btn btn-sm btn-dark float-right",attrs:{type:"button"},on:{click:function(a){t.tambahpeta=!t.tambahpeta}}},[t._v("Map Add +")]),t._m(0),e("hr"),t.tambahpeta?e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-10"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"kategori"}},[t._v("Kategori Peta/Map : ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.kategori,expression:"vdata.kategori"}],staticClass:"form-control form-control-sm",attrs:{required:"",type:"text",id:"kategori",name:"kategori",placeholder:"kategori"},domProps:{value:t.vdata.kategori},on:{input:function(a){a.target.composing||t.$set(t.vdata,"kategori",a.target.value)}}})]),e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"sumber"}},[t._v("Sumber Data Peta : ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.sumber,expression:"vdata.sumber"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"sumber",name:"sumber",placeholder:"sumber"},domProps:{value:t.vdata.sumber},on:{input:function(a){a.target.composing||t.$set(t.vdata,"sumber",a.target.value)}}})]),e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"deskripsi"}},[t._v("Deskripsi : ")]),e("div",{staticClass:"sm-form"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.vdata.deskripsi,expression:"vdata.deskripsi"}],staticClass:"form-control md-textarea",attrs:{type:"text",id:"deskripsi",name:"deskripsi",rows:"2",placeholder:"deskripsi..."},domProps:{value:t.vdata.deskripsi},on:{input:function(a){a.target.composing||t.$set(t.vdata,"deskripsi",a.target.value)}}})])])]),e("div",{staticClass:"col-6"},[e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"tag"}},[t._v("Tag : ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.tag,expression:"vdata.tag"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"tag",name:"tag",placeholder:"tag"},domProps:{value:t.vdata.tag},on:{input:function(a){a.target.composing||t.$set(t.vdata,"tag",a.target.value)}}})]),e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"group"}},[t._v("Type : ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.vdata.type,expression:"vdata.type"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.vdata,"type",a.target.multiple?e:e[0])}}},[e("option",[t._v("Real Estate")]),e("option",[t._v("Wisata")])])]),e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"gambar"}},[t._v("Your gambar")]),e("input",{staticClass:"form-control form-control-sm",attrs:{type:"file",id:"filenya",name:"gambar",placeholder:"gambar"},on:{change:t.upload}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.gambar,expression:"vdata.gambar"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"gambar",name:"gambar",placeholder:"gambar"},domProps:{value:t.vdata.gambar},on:{input:function(a){a.target.composing||t.$set(t.vdata,"gambar",a.target.value)}}})])])]),e("div",{staticClass:"mt-3 p-3"},[e("button",{staticClass:"btn btn-sm",class:"tambah"==t.btn?"btn-primary":"update"==t.btn?"btn-success":"btn-danger",attrs:{type:"submit"}},[e("span",{staticClass:"typcn typcn-info"}),t._v(" Proses "+t._s(t.btn)+" ")]),e("div",{staticClass:"float-right"},[e("button",{directives:[{name:"show",rawName:"v-show",value:"tambah"!=t.btn,expression:"btn!='tambah'"}],staticClass:"btn btn-sm btn-dark",attrs:{type:"button"},on:{click:function(a){t.btn="tambah",t.vdata={}}}},[e("span",{staticClass:"typcn typcn-edit"}),t._v(" Tambah ")]),e("button",{directives:[{name:"show",rawName:"v-show",value:"tambah"!=t.btn,expression:"btn!='tambah'"}],staticClass:"ml-3 btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(a){t.btn="delete"}}},[e("span",{staticClass:"typcn typcn-delete"}),t._v(" Delete ")])])])])]):t._e(),t.datanya.length>0?e("div",{staticClass:"p-3"},[e("Btables",{ref:"btable",attrs:{tables:t.datanya,cari:[""],hide:["latitude","longitude","gambar"]},on:{selected:t.ambil}})],1):t._e()])])])]),t._m(1)])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"font-semibold text-lg p-3"},[t._v("List Peta/Map "),e("img",{staticClass:"d-inline",staticStyle:{height:"20px",width:"20px"},attrs:{src:"https://upload.egov.balangankab.go.id/svg/map.svg",alt:""}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-9 sm:ml-5"})])}],o=e("1da1"),r=e("ade3"),l=(e("96cf"),e("4795"),e("cc98")),d=e.n(l),c=e("4b97"),u=e("6be6"),m=new c["a"],p={components:{Btables:u["a"]},data:function(){return{selected:!1,tambahpeta:!1,vdata:{},uniqid:"",btn:"tambah",datanya:[]}},methods:(s={upload:function(){var t=this,a=document.querySelector("#filenya");m.collection("tbuser",!1).upload(a,!0,!0).then((function(a){t.vdata.gambar=a,t.$forceUpdate()}))},pilihpeta:function(t,a){var e=this,s=0;this.$store.state.data.kategori&&"false"!=this.$store.state.data.kategori||(s=1),localStorage.setItem("idpeta",t),localStorage.setItem("kategori",a),m.alert("Peta telah di update menjadi ".concat(a,"!"),"bg-green-400"),this.$store.state.data.idpeta=t,this.$store.state.data.kategori=a,1==s&&setTimeout((function(){e.$router.go()}),1e3),this.$forceUpdate()}},Object(r["a"])(s,"upload",(function(){var t=this,a=document.querySelector("#filenya");m.collection("tbuser").upload(a).then((function(a){t.vdata.geojson=a,t.$forceUpdate()}))})),Object(r["a"])(s,"test",(function(){this.$refs.btable.getData()})),Object(r["a"])(s,"getData",(function(){var t=this;m.collection("app_gis_kategori").doc().select("select * from app_gis_kategori").then((function(a){t.datanya=a,t.$forceUpdate()}))})),Object(r["a"])(s,"ambil",(function(t){this.vdata=t,this.btn="update",this.$forceUpdate()})),Object(r["a"])(s,"submit",(function(){var t=this;confirm("Apakah yakin proses dilanjutkan ?")&&("tambah"==this.btn?(delete this.vdata.id,m.collection("app_gis_kategori").doc().set(this.vdata).then((function(a){t.getData()}))):"update"==this.btn?m.collection("app_gis_kategori").doc().set(this.vdata).then((function(a){t.getData()})):"delete"==this.btn&&m.collection("app_gis_kategori").doc(this.vdata.id)["delete"]().then((function(a){t.getData()})))})),s),mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.getData(),t.uniqid=d()();case 2:case"end":return a.stop()}}),a)})))()},layout:"app_admin"},b=p,v=e("2877"),g=Object(v["a"])(b,n,i,!1,null,null,null);a["default"]=g.exports}}]);
//# sourceMappingURL=page-admin-index~6773c5d6.51d0e36d.js.map