(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-office-360view copy~31ecd969"],{"1d1c":function(t,e,a){var o=a("23e7"),n=a("83ab"),r=a("37e8");o({target:"Object",stat:!0,forced:!n,sham:!n},{defineProperties:r})},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("4160"),a("159b"),a("dbb4"),a("1d1c"),a("7a82");var o=a("ade3");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"7e12":function(t,e,a){var o=a("da84"),n=a("58a8").trim,r=a("5899"),i=o.parseFloat,c=1/i(r+"-0")!==-1/0;t.exports=c?function(t){var e=n(String(t)),a=i(e);return 0===a&&"-"==e.charAt(0)?-0:a}:i},"8c1d":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.ready?a("div",[a("div",{staticStyle:{height:"100vh",width:"100vw"},attrs:{id:"container"}})]):t._e()])},n=[],r=a("5530"),i=(a("4160"),a("159b"),a("4de4"),a("a434"),a("acd8"),a("4795"),a("4b97")),c=a("6be6"),s=new i["a"],p={components:{Btables:c["a"]},data:function(){return{photo:[],listphoto:[],listHotspot:[],show:!1,ready:!1,gambarUtama:"",btn:"tambah",vdata:{},info:{},point:null}},methods:{getDatanya:function(){var t=this;this.ready=!1,s.collection("app_gis_360data_hotspot",!1).doc().select("select * from app_gis_360data_hotspot").then((function(e){t.datanya=e,t.ready=!0,t.$forceUpdate()}))},getData:function(){var t=this;s.collection("app_gis_360data",!1).doc().select("select * from app_gis_360data where id='".concat(this.$route.query.idgambar,"'")).then((function(e){console.log(e),t.photo=e,t.$forceUpdate()}))},getListPhoto:function(){var t=this,e=this;s.collection("app_gis_360data",!1).doc().select("select * from app_gis_360data").then((function(a){t.listphoto=a,s.collection("app_gis_360data_hotspot",!1).doc().select("select * from app_gis_360data_hotspot").then((function(t){e.listHotspot=t;var a=[];e.listphoto.forEach((function(t,o){a[o]=Object(r["a"])(Object(r["a"])({},t),{},{hotspot:e.listHotspot.filter((function(e){return e.idgambar==t.id}))})})),console.log("leftjoin",a),e.$forceUpdate()}))}))},getListHotspot:function(){}},mounted:function(){var t=this,e=this,a=[];this.getData(),this.getDatanya(),s.collection("app_gis_360data",!1).doc().select("select * from app_gis_360data").then((function(o){t.listphoto=o,s.collection("app_gis_360data_hotspot",!1).doc().select("select tb1.type,tb1.initialRoute,tb1.icon,tb1.detail,tb1.text,tb1.gambar,tb1.idgambar,tb1.youtube,tb1.point,tb1.hotspot,tb1.idroute,tb1.idpeta,tb2.gambar as gambarnya \n                 from app_gis_360data_hotspot tb1 left join app_gis_360data tb2 on tb2.id=tb1.idgambar").then((function(t){e.listHotspot=t,e.listphoto.forEach((function(t,o){a[o]=Object(r["a"])(Object(r["a"])({},t),{},{hotspot:e.listHotspot.filter((function(e){return e.idgambar==t.id}))})}));var o=0;a.forEach((function(t,a){t.id==e.$route.query.idgambar&&(o=a)}));var n,i,c=a[o];console.log("temp",c),a.splice(o,1),a.unshift(c),console.log("obj",a);var s=[];i=document.querySelector("#container"),n=new PANOLENS.Viewer({container:i}),a.forEach((function(t,e){a[e].panorama=new PANOLENS.ImagePanorama(t.gambar)})),e.listHotspot.forEach((function(t,e){s[e]=new PANOLENS.Infospot(500,PANOLENS.DataImage.Info),s[e].position.set(parseFloat(JSON.parse(t.hotspot).x),parseFloat(JSON.parse(t.hotspot).y),parseFloat(JSON.parse(t.hotspot).z)),s[e].addHoverText(t.detail),s[e].addEventListener("click",(function(){n.setPanorama(a.filter((function(e){return e.id==t.idroute}))[0].panorama),n.tweenControlCenter(new THREE.Vector3(parseFloat(JSON.parse(t.initialRoute).x),parseFloat(JSON.parse(t.initialRoute).y),parseFloat(JSON.parse(t.initialRoute).z)),0)})),a.filter((function(e){return e.id==t.idgambar}))[0].panorama.add(s[e])})),setTimeout((function(){a.forEach((function(t,e){n.add(t.panorama)}))}),2e3),n.addUpdateCallback((function(){})),e.$forceUpdate()}))}))}},l=p,d=a("2877"),f=Object(d["a"])(l,o,n,!1,null,null,null);e["default"]=f.exports},acd8:function(t,e,a){var o=a("23e7"),n=a("7e12");o({global:!0,forced:parseFloat!=n},{parseFloat:n})},dbb4:function(t,e,a){var o=a("23e7"),n=a("83ab"),r=a("56ef"),i=a("fc6a"),c=a("06cf"),s=a("8418");o({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,a,o=i(t),n=c.f,p=r(o),l={},d=0;while(p.length>d)a=n(o,e=p[d++]),void 0!==a&&s(l,e,a);return l}})},e439:function(t,e,a){var o=a("23e7"),n=a("d039"),r=a("fc6a"),i=a("06cf").f,c=a("83ab"),s=n((function(){i(1)})),p=!c||s;o({target:"Object",stat:!0,forced:p,sham:!c},{getOwnPropertyDescriptor:function(t,e){return i(r(t),e)}})}}]);
//# sourceMappingURL=page-office-360view copy~31ecd969.96f059b2.js.map