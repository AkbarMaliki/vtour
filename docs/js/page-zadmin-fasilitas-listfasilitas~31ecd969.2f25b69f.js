(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-zadmin-fasilitas-listfasilitas~31ecd969"],{"69df":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("form",{on:{submit:function(a){return a.preventDefault(),t.submit(a)}}},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-sm-9 p-2",staticStyle:{"font-size":"12px"}},[e("div",{staticClass:"shadow p-3 rounded-lg"},[e("button",{staticClass:"btn btn-sm btn-style4  ",attrs:{type:"button"}},[t._v(t._s(t.$route.query.title))]),e("div",{staticClass:"sm-form"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.id,expression:"vdata.id"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"id",name:"id",placeholder:"id",disabled:""},domProps:{value:t.vdata.id},on:{input:function(a){a.target.composing||t.$set(t.vdata,"id",a.target.value)}}})]),e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"title"}},[t._v("title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.title,expression:"vdata.title"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"title",name:"title",placeholder:"title"},domProps:{value:t.vdata.title},on:{input:function(a){a.target.composing||t.$set(t.vdata,"title",a.target.value)}}})]),e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"fasilitas"}},[t._v("fasilitas")]),e("div",{staticClass:"sm-form"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.vdata.fasilitas,expression:"vdata.fasilitas"}],staticClass:"form-control md-textarea",attrs:{type:"text",id:"fasilitas",name:"fasilitas",rows:"2",placeholder:"fasilitas..."},domProps:{value:t.vdata.fasilitas},on:{input:function(a){a.target.composing||t.$set(t.vdata,"fasilitas",a.target.value)}}})])]),e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"detail"}},[t._v("detail")]),e("div",{staticClass:"sm-form"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.vdata.detail,expression:"vdata.detail"}],staticClass:"form-control md-textarea",attrs:{type:"text",id:"detail",name:"detail",rows:"2",placeholder:"detail..."},domProps:{value:t.vdata.detail},on:{input:function(a){a.target.composing||t.$set(t.vdata,"detail",a.target.value)}}})])]),e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"gambar"}},[t._v("Your gambar")]),e("input",{staticClass:"form-control form-control-sm",attrs:{type:"file",id:"filenya",name:"gambar",placeholder:"gambar"},on:{change:t.upload}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.gambar,expression:"vdata.gambar"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"gambar",name:"gambar",placeholder:"gambar"},domProps:{value:t.vdata.gambar},on:{input:function(a){a.target.composing||t.$set(t.vdata,"gambar",a.target.value)}}})]),e("div",{staticClass:"mt-3 p-3"},[e("button",{staticClass:"btn btn-sm",class:"tambah"==t.btn?"btn-primary":"update"==t.btn?"btn-success":"btn-danger",attrs:{type:"submit"}},[e("span",{staticClass:"typcn typcn-info"}),t._v(" Proses "+t._s(t.btn)+" ")]),e("div",{staticClass:"float-right"},[e("button",{directives:[{name:"show",rawName:"v-show",value:"tambah"!=t.btn,expression:"btn!='tambah'"}],staticClass:"btn btn-sm btn-dark",attrs:{type:"button"},on:{click:function(a){t.btn="tambah",t.vdata={}}}},[e("span",{staticClass:"typcn typcn-edit"}),t._v(" Tambah ")]),e("button",{directives:[{name:"show",rawName:"v-show",value:"tambah"!=t.btn,expression:"btn!='tambah'"}],staticClass:"ml-3 btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(a){t.btn="delete"}}},[e("span",{staticClass:"typcn typcn-delete"}),t._v(" Delete ")])])])])]),e("div",{staticClass:"col-sm-9 p-2",staticStyle:{"font-size":"12px"}},[e("div",{staticClass:"shadow rounded-lg"},[t.datanya.length>0?e("div",{staticClass:"p-2"},[e("div",{staticClass:"text-right"},[e("vue-json-excel",{attrs:{data:t.datanya}},[e("button",{staticClass:"btn btn-sm btn-dark",attrs:{type:"button"}},[t._v(" Export "),e("span",{staticClass:"typcn typcn-chart-area"})])])],1),e("Btables",{ref:"btable",attrs:{tables:t.datanya,cari:[""],hide:[""]},on:{selected:t.ambil}})],1):t._e()])])])])])},i=[],n=e("1da1"),r=(e("96cf"),e("99af"),e("0677")),o=e("6be6"),l=new r["a"],c={components:{Btables:o["a"]},layout:"app_admin",data:function(){return{selected:!1,vdata:{},btn:"tambah",datanya:[]}},methods:{upload:function(){var t=this,a=document.querySelector("#filenya");l.collection("tbuser",!1).upload(a,!0,!0).then((function(a){console.log(a),t.vdata.gambar=a,t.$forceUpdate()}))},getData:function(){var t=this;l.collection("app_gis_fasilitas",!1).doc().select("select * from app_gis_fasilitas where idpeta='".concat(this.$route.query.id,"' AND idkategori='").concat(this.$route.query.kategori,"'")).then((function(a){t.datanya=a,t.$forceUpdate()}))},ambil:function(t){this.vdata=t,this.btn="update",this.$forceUpdate()},submit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e=t,t.vdata.idpeta=t.$route.query.id,t.vdata.idkategori=t.$route.query.kategori,!confirm("Apakah yakin proses dilanjutkan ?")){a.next=21;break}if("tambah"!=t.btn){a.next=11;break}return delete t.vdata.id,a.next=8,l.collection("app_gis_fasilitas",!0).doc().set(t.vdata);case 8:e.getData(),a.next=21;break;case 11:if("update"!=t.btn){a.next=17;break}return a.next=14,l.collection("app_gis_fasilitas",!0).doc().set(t.vdata);case 14:e.getData(),a.next=21;break;case 17:if("delete"!=t.btn){a.next=21;break}return a.next=20,l.collection("app_gis_fasilitas",!0).doc(t.vdata.id)["delete"]();case 20:e.getData();case 21:case"end":return a.stop()}}),a)})))()}},mounted:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.getData();case 1:case"end":return a.stop()}}),a)})))()}},d=c,m=e("2877"),u=Object(m["a"])(d,s,i,!1,null,null,null);a["default"]=u.exports},"99af":function(t,a,e){"use strict";var s=e("23e7"),i=e("d039"),n=e("e8b5"),r=e("861d"),o=e("7b0b"),l=e("50c4"),c=e("8418"),d=e("65f0"),m=e("1dde"),u=e("b622"),p=e("2d00"),v=u("isConcatSpreadable"),f=9007199254740991,b="Maximum allowed index exceeded",g=p>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),h=m("concat"),y=function(t){if(!r(t))return!1;var a=t[v];return void 0!==a?!!a:n(t)},x=!g||!h;s({target:"Array",proto:!0,forced:x},{concat:function(t){var a,e,s,i,n,r=o(this),m=d(r,0),u=0;for(a=-1,s=arguments.length;a<s;a++)if(n=-1===a?r:arguments[a],y(n)){if(i=l(n.length),u+i>f)throw TypeError(b);for(e=0;e<i;e++,u++)e in n&&c(m,u,n[e])}else{if(u>=f)throw TypeError(b);c(m,u++,n)}return m.length=u,m}})}}]);
//# sourceMappingURL=page-zadmin-fasilitas-listfasilitas~31ecd969.2f25b69f.js.map