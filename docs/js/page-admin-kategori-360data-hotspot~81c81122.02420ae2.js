(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-admin-kategori-360data-hotspot~81c81122"],{c414:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("form",{on:{submit:function(a){return a.preventDefault(),t.submit(a)}}},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-sm-9 p-2",staticStyle:{"font-size":"12px"}},[e("div",{staticClass:"shadow p-3 rounded-lg"},[e("div",{staticClass:"sm-form"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.id,expression:"vdata.id"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"id",name:"id",placeholder:"id",disabled:""},domProps:{value:t.vdata.id},on:{input:function(a){a.target.composing||t.$set(t.vdata,"id",a.target.value)}}})]),e("hr",{staticClass:"mt-2 mb-2"}),e("p",{staticClass:"font-semibold text-lg p-3"},[t._v("Hotspot untuk : "+t._s(t.$route.query.title))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.vdata.type,expression:"vdata.type"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.vdata,"type",a.target.multiple?e:e[0])}}},[e("option",[t._v("Route")]),e("option",[t._v("Text")]),e("option",[t._v("Photo")]),e("option",[t._v("Video")])]),e("hr",{staticClass:"mt-2 mb-2"}),e("p",{staticClass:"font-semibold"},[t._v("Hotspot Point : ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"title"}},[t._v("Title")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.title,expression:"vdata.title"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"title",name:"title",placeholder:"title"},domProps:{value:t.vdata.title},on:{input:function(a){a.target.composing||t.$set(t.vdata,"title",a.target.value)}}})]),e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"hotspot"}},[t._v("hotspot")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.hotspot,expression:"vdata.hotspot"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"hotspot",name:"hotspot",placeholder:"hotspot point"},domProps:{value:t.vdata.hotspot},on:{input:function(a){a.target.composing||t.$set(t.vdata,"hotspot",a.target.value)}}})]),e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"size"}},[t._v("Size")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.size,expression:"vdata.size"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"size",name:"size",placeholder:"size"},domProps:{value:t.vdata.size},on:{input:function(a){a.target.composing||t.$set(t.vdata,"size",a.target.value)}}})])]),e("div",{staticClass:"col-6 text-center"},[e("br"),e("a",{attrs:{target:"__blank",href:"/#/admin/kategori/360data/getPoint?idgambar="+t.$route.query.idgambar+"&idpeta="+t.$route.query.idpeta}},[t._m(0)])]),e("div",{staticClass:"col-12"})]),e("hr",{staticClass:"mt-2 mb-2"}),"Route"==t.vdata.type?e("div",[e("p",{staticClass:"font-semibold"},[t._v("Route : ")]),e("v-select",{attrs:{options:t.listphoto,label:"title",reduce:function(t){return t.id}},model:{value:t.vdata.idroute,callback:function(a){t.$set(t.vdata,"idroute",a)},expression:"vdata.idroute"}}),e("label",{attrs:{for:"initialRoute"}},[t._v("Intial Route Koordinat")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("div",{staticClass:"sm-form "},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.initialRoute,expression:"vdata.initialRoute"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"initialRoute",name:"initialRoute",placeholder:"initialRoute point"},domProps:{value:t.vdata.initialRoute},on:{input:function(a){a.target.composing||t.$set(t.vdata,"initialRoute",a.target.value)}}})])]),e("div",{staticClass:"col-6"},[e("a",{attrs:{target:"__blank",href:"/#/admin/kategori/360data/getPoint?idgambar="+t.vdata.idroute+"&idpeta="+t.$route.query.idpeta}},[t._m(1)])])])],1):"Text"==t.vdata.type?e("div",[e("p",{staticClass:"font-semibold"},[t._v("Text : ")]),e("div",{staticClass:"sm-form"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.vdata.text,expression:"vdata.text"}],staticClass:"form-control md-textarea",attrs:{type:"text",id:"text",name:"text",rows:"2",placeholder:"text..."},domProps:{value:t.vdata.text},on:{input:function(a){a.target.composing||t.$set(t.vdata,"text",a.target.value)}}})])]):"Photo"==t.vdata.type?e("div",[e("p",{staticClass:"font-semibold"},[t._v("Photo : ")]),e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"gambar"}},[t._v("Your gambar")]),e("input",{staticClass:"form-control form-control-sm",attrs:{type:"file",id:"filenya",name:"gambar",placeholder:"gambar"},on:{change:t.upload}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.gambar,expression:"vdata.gambar"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"gambar",name:"gambar",placeholder:"gambar"},domProps:{value:t.vdata.gambar},on:{input:function(a){a.target.composing||t.$set(t.vdata,"gambar",a.target.value)}}})])]):"Video"==t.vdata.type?e("div",[e("p",{staticClass:"font-semibold"},[t._v("Text : ")]),e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"youtube"}},[t._v("Youtube")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.youtube,expression:"vdata.youtube"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"youtube",name:"youtube",placeholder:"youtube"},domProps:{value:t.vdata.youtube},on:{input:function(a){a.target.composing||t.$set(t.vdata,"youtube",a.target.value)}}})])]):t._e(),e("hr",{staticClass:"mt-2 mb-2"}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("p",{staticClass:"font-semibold"},[t._v("Icon : ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.vdata.icon,expression:"vdata.icon"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.vdata,"icon",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"Info"}},[t._v("Info")]),e("option",{attrs:{value:"Arrow"}},[t._v("Arrow")]),e("option",{attrs:{value:"Custom"}},[t._v("Custom")])]),e("div",{staticClass:"sm-form "},[e("label",{attrs:{for:"iconnya"}},[t._v("Your iconnya")]),e("input",{staticClass:"form-control form-control-sm",attrs:{type:"file",id:"iconnya",name:"iconnya",placeholder:"iconnya"},on:{change:t.upload2}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.iconnya,expression:"vdata.iconnya"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"iconnya",name:"iconnya",placeholder:"iconnya"},domProps:{value:t.vdata.iconnya},on:{input:function(a){a.target.composing||t.$set(t.vdata,"iconnya",a.target.value)}}})])]),e("div",{staticClass:"col-6"},[e("p",{staticClass:"font-semibold"},[t._v("Detail : ")]),e("div",{staticClass:"sm-form"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.vdata.detail,expression:"vdata.detail"}],staticClass:"form-control md-textarea",attrs:{type:"text",id:"detail",name:"detail",rows:"2",placeholder:"detail..."},domProps:{value:t.vdata.detail},on:{input:function(a){a.target.composing||t.$set(t.vdata,"detail",a.target.value)}}})])]),e("hr",{staticClass:"mt-2 mb-2"})]),e("hr"),e("div",{staticClass:"mt-3 p-3"},[e("button",{staticClass:"btn btn-sm",class:"tambah"==t.btn?"btn-primary":"update"==t.btn?"btn-success":"btn-danger",attrs:{type:"submit"}},[e("span",{staticClass:"typcn typcn-info"}),t._v(" Proses "+t._s(t.btn)+" ")]),e("div",{staticClass:"float-right"},[e("button",{directives:[{name:"show",rawName:"v-show",value:"tambah"!=t.btn,expression:"btn!='tambah'"}],staticClass:"btn btn-sm btn-dark",attrs:{type:"button"},on:{click:function(a){t.btn="tambah",t.vdata={}}}},[e("span",{staticClass:"typcn typcn-edit"}),t._v(" Tambah ")]),e("button",{directives:[{name:"show",rawName:"v-show",value:"tambah"!=t.btn,expression:"btn!='tambah'"}],staticClass:"ml-3 btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(a){t.btn="delete"}}},[e("span",{staticClass:"typcn typcn-delete"}),t._v(" Delete ")])])])])]),e("div",{staticClass:"col-sm-9 p-2",staticStyle:{"font-size":"12px"}},[e("div",{staticClass:"shadow rounded-lg"},[t.datanya.length>0?e("div",{staticClass:"p-2"},[e("div",{staticClass:"text-right"},[e("vue-json-excel",{attrs:{data:t.datanya}},[e("button",{staticClass:"btn btn-sm btn-dark",attrs:{type:"button"}},[t._v(" Export "),e("span",{staticClass:"typcn typcn-chart-area"})])])],1),e("Btables",{ref:"btable",attrs:{tables:t.datanya,cari:[""],hide:["gambar","point","idpeta","detail","text","initialRoute","idgambar","idroute","iconnya"]},on:{selected:t.ambil}})],1):t._e()])])])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"btn btn-sm btn-dark  ",attrs:{type:"button"}},[t._v("View "),e("img",{staticClass:"d-inline",staticStyle:{height:"15px",width:"15px",filter:"brightness(0) invert(1)"},attrs:{src:"https://upload.egov.balangankab.go.id/svg/image.svg",alt:""}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"btn btn-sm btn-dark  ",attrs:{type:"button"}},[t._v("View "),e("img",{staticClass:"d-inline",staticStyle:{height:"15px",width:"15px",filter:"brightness(0) invert(1)"},attrs:{src:"https://upload.egov.balangankab.go.id/svg/image.svg",alt:""}})])}],i=e("1da1"),n=(e("96cf"),e("4b97")),r=e("6be6"),l=new n["a"],d={layout:"app_admin",components:{Btables:r["a"]},data:function(){return{selected:!1,vdata:{size:250},listphoto:[],btn:"tambah",datanya:[]}},methods:{getListPhoto:function(){var t=this;l.collection("app_gis_360data",!1).doc().select("select * from app_gis_360data where idpeta='".concat(this.$route.query.idpeta,"'")).then((function(a){console.log(a),t.listphoto=a,t.$forceUpdate()}))},upload:function(){var t=this,a=document.querySelector("#filenya");l.collection("tbuser",!1).upload(a,!1,!0).then((function(a){console.log(a),t.vdata.gambar=a,t.$forceUpdate()}))},upload2:function(){var t=this,a=document.querySelector("#iconnya");l.collection("tbuser",!1).upload(a,!1,!0).then((function(a){console.log(a),t.vdata.iconnya=a,t.$forceUpdate()}))},getData:function(){var t=this;l.collection("app_gis_360data_hotspot",!1).doc().select("select * from app_gis_360data_hotspot where idgambar='".concat(this.$route.query.idgambar,"'")).then((function(a){t.datanya=a,t.$forceUpdate()}))},ambil:function(t){this.vdata=t,this.btn="update",this.$forceUpdate()},submit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e=t,t.vdata.idpeta=t.$route.query.id,t.vdata.idgambar=t.$route.query.idgambar,!confirm("Apakah yakin proses dilanjutkan ?")){a.next=21;break}if("tambah"!=t.btn){a.next=11;break}return delete t.vdata.id,a.next=8,l.collection("app_gis_360data_hotspot",!0).doc().set(t.vdata);case 8:e.getData(),a.next=21;break;case 11:if("update"!=t.btn){a.next=17;break}return a.next=14,l.collection("app_gis_360data_hotspot",!0).doc().set(t.vdata);case 14:e.getData(),a.next=21;break;case 17:if("delete"!=t.btn){a.next=21;break}return a.next=20,l.collection("app_gis_360data_hotspot",!0).doc(t.vdata.id)["delete"]();case 20:e.getData();case 21:case"end":return a.stop()}}),a)})))()}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.getData(),t.getListPhoto();case 2:case"end":return a.stop()}}),a)})))()}},c=d,m=e("2877"),u=Object(m["a"])(c,o,s,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=page-admin-kategori-360data-hotspot~81c81122.02420ae2.js.map