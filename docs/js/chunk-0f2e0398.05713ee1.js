(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f2e0398"],{"4a6f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.ready?a("div",[a("div",{staticClass:"d-block d-sm-none"}),t.busy?a("div",{staticStyle:{width:"100%",height:"1200px",position:"fixed","z-index":"200",background:"radial-gradient(circle, rgba(63,206,251,1) 0%, rgba(12,14,140,1) 100%)"}},[a("p",{staticClass:"animated infinite bounce font-bold font-times text-2xl text-black",staticStyle:{"margin-top":"50vh","margin-left":"30vw"}},[t._v("LOADING ...")])]):t._e(),a("div",{staticClass:"text-center d-sm-none"},[t.menuTrigger?t._e():a("v-touch",{staticStyle:{width:"20px",background:"transparent",height:"100vh",position:"absolute",left:"0","z-index":"10001"},on:{swiperight:t.onSwipeRight}})],1),a("div",{staticClass:"container-fluid anim "},[a("div",{staticClass:"row anim  bg-white "},[a("div",{staticClass:"anim col-4 col-sm-3 col-md-2 ",staticStyle:{position:"fixed",padding:"0",margin:"0",height:"100vh"},style:{background:t.bgleft1},on:{mouseenter:function(e){t.menuTrigger=!0},mouseleave:function(e){t.menuTrigger=!1}}},[a("div",{staticClass:"text-center text-white font-bold text-times text-xs",staticStyle:{height:"0px",margin:"none","padding-top":"10px"},style:{background:t.bgleft1}},[a("br"),a("br")]),a("div",{staticClass:"p-1",staticStyle:{"z-index":"100"},style:{background:t.bgleft1}},[a("p",{staticClass:"pl-2"},[a("img",{staticClass:"d-inline",staticStyle:{height:"30px",width:"30px"},attrs:{src:"https://upload.egov.balangankab.go.id/svg/map.svg",alt:""}}),t.$store.state.data.toko?a("span",{staticClass:"font-bold text-md  italic ml-4",style:"color:"+t.$store.state.data.toko.warna_title},[t._v(t._s(t.$store.state.data.kategori))]):t._e()]),a("br"),t.$store.state.users?a("div",t._l(t.listMenu,(function(e,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:e.level.includes(t.$store.state.users.level),expression:"item.level.includes($store.state.users.level)"}],key:i+"listmenus"},[a("div",{staticClass:"bord hover:bg-orange-400  text-left pl-3 mt-3",staticStyle:{"font-size":"13px"},attrs:{id:"pertamaclick"},on:{click:function(e){t.muncul(e),!t.menuTrigger&&(t.menuTrigger=!t.menuTrigger)}}},[a("span",{staticClass:"typcn ",class:"typcn-"+e.icon,on:{click:function(e){return t.parent(e)}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.menuTrigger,expression:"menuTrigger"}],staticClass:"pl-2 capitalize"},[t._v(t._s(e.group))])])]),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.menuTrigger,expression:"menuTrigger"}],staticClass:"isaktif sm:pl-4 anim mb-3 text-white animated slideInRight ",staticStyle:{background:"#232E30"}},t._l(e.menu,(function(e,i){return a("li",{directives:[{name:"show",rawName:"v-show",value:e.level.includes(t.$store.state.users.level),expression:"item2.level.includes($store.state.users.level)"}],key:i+"menu",staticClass:"bord hover:bg-orange-400 text-left sm:pl-3",staticStyle:{"font-size":"13px"}},[a("router-link",{staticStyle:{color:"white"},attrs:{to:e.link}},[a("span",{staticClass:"mr-2",domProps:{innerHTML:t._s(e.name.replace("<br>"," "))}}),t._v(" "),a("span",{staticClass:"typcn ",class:"typcn-"+e.icon})])],1)})),0)])})),0):t._e(),a("div",{staticClass:"bord hover:bg-orange-400  text-left pl-3 mt-2",staticStyle:{"font-size":"13px"},on:{click:function(e){return t.$router.push("/admin")}}},[a("span",{staticClass:"typcn typcn-th-large"}),t.menuTrigger?a("span",[t._v(" DASHBOARD ")]):t._e()])])]),a("div",{staticClass:"bg-black anim",class:{"col-8 col-sm-9 col-md-10 offset-4 offset-sm-3 offset-md-2":t.menuTrigger,"menutrigger col-12 col-sm-11":!t.menuTrigger}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 bg-white",staticStyle:{padding:"0",margin:"0",position:"fixed","z-index":"10000"}},[a("div",{staticClass:"row justify-content-between align-items-center shadow rounded-lg",staticStyle:{height:"50px",padding:"3px","margin-left":"0px"}},[a("div",{staticClass:"col-2 "},[a("span",{staticClass:"typcn typcn-th-menu text-2xl d-inline-block d-sm-none",on:{click:function(e){t.menuTrigger=!t.menuTrigger}}}),t.$store.state.data.toko?a("div",{staticClass:"d-none d-sm-inline-block"},[t.$store.state.data?a("span",{staticClass:"font-bold text-md  italic",style:"color:"+t.$store.state.data.toko.warna_title},[a("img",{staticClass:"d-inline",staticStyle:{height:"30px",width:"20px"},attrs:{src:"https://upload.egov.balangankab.go.id/svg/map.svg",alt:""}}),t._v(" "+t._s(t.$store.state.data.kategori))]):t._e()]):t._e()]),a("div",{staticClass:"col-6"}),a("div",{staticClass:"col-4 row justify-content-center"},[a("div",{staticClass:"col-2 d-none d-sm-inline-block",on:{click:t.notifs}}),a("div",{staticClass:"col-2 d-none d-sm-inline-block"}),a("div",{staticClass:"col-2 d-none d-sm-inline-block"}),a("div",{staticClass:"col-12 col-sm-6 "},[t.$store.state.users?a("img",{staticClass:"rounded-circle d-inline cursor-pointer",staticStyle:{height:"30px"},attrs:{src:"https://i1.sndcdn.com/artworks-aLhH4TJbrBBeAtX5-reSfbQ-t500x500.jpg",alt:""},on:{click:t.logout}}):t._e(),t.$store.state.users?a("span",{staticClass:"ml-2 text-xs d-none d-sm-inline-block cursor-pointer",on:{click:t.logout}},[t._v(t._s(t.$store.state.users.name?t.$store.state.users.name:t.$store.state.users.nama?t.$store.state.users.nama:t.$store.state.users.username))]):t._e()])])])]),a("div",{staticClass:"col-sm-12",staticStyle:{background:"white","min-height":"100vh",padding:"0",margin:"0"},on:{click:function(e){t.menuTrigger=!1,t.menuKanan=!1}}},[a("br"),a("br"),a("div",{staticClass:"sm:mt-2 pl-2 side-shadow ",staticStyle:{"min-height":"90vh"}},[a("div",{staticClass:"sm:pl-4",staticStyle:{position:"relative"}},[a("br"),a("router-view",{directives:[{name:"myimage",rawName:"v-myimage"},{name:"reload",rawName:"v-reload"}],staticStyle:{position:"absolute","z-index":"100",width:"100%"}})],1)])])])])])])]):t._e()])},n=[],s=a("2909"),o=(a("6062"),a("d3b7"),a("3ca3"),a("ddb0"),a("d81d"),a("4160"),a("159b"),a("4de4"),a("caad"),a("2532"),a("13d5"),a("e25e"),a("4795"),a("99af"),a("bc3a"),a("cc98")),r=a.n(o),c=a("8aa5"),l=a.n(c),d=a("4b97"),u=a("2833"),m=(l.a.firestore(),l.a.database()),g=new d["a"],p=(a("03a0"),{components:{navigationBottom1:u["a"]},beforeMount:function(){var t=this;this.ready=!1,g.collection().ceklogin(this.$store).then((function(e){t.ready=!0}))["catch"]((function(e){t.$router.push("/admin/login")}))},methods:{notifs:function(){var t=this;g.collection("app_kasir_notifikasi").doc().select("update app_kasir_notifikasi set dibaca='true' where tujuan='admin'").then((function(e){m.ref("/notifikasi/admin").set({uniq:r()()}),t.$router.push("/admin/notifikasi")}))},getToko:function(){var t=this;g.collection("app_kasir_toko").doc().select("select * from app_kasir_toko").then((function(e){t.toko=e,t.$store.state.data.toko=e[0],t.$forceUpdate()}))},exits:function(){document.addEventListener("deviceready",(function(t){navigator.app.exitApp()}),!0)},logout:function(){this.$store.dispatch("logout"),localStorage.removeItem("login"),this.$router.push("")},muncul:function(t){t.target.nextElementSibling.classList.toggle("isaktif")},parent:function(t){t.target.parentNode.click()},onSwipeRight:function(){this.menuTrigger=!0},getListComment:function(){var t=this;g.collection("app_kasir_chat").doc().select("select * from app_kasir_chat").then((function(e){var a=Object(s["a"])(new Set(e.map((function(t){return t["username"]}))));a=a.map((function(t){return{username:t}})),a.forEach((function(t,i){a[i].data=[],e.forEach((function(e){t.username==e.username&&a[i].data.push(e)}))})),a.forEach((function(t){t.unread=t.data.filter((function(t){if("false"==t.dibaca&&"admin"==t.penerima)return t})).length})),g.collection("tbuser").doc().select("select * from tbuser where level!='user'").then((function(e){var i=e.map((function(t){return t.username}));a=a.filter((function(t){if(!i.includes(t.username))return t})),console.log("unique",a),t.notifchat=a.reduce((function(t,e){return t+parseInt(e.unread)}),0),t.$forceUpdate()}))}))}},mounted:function(){var t=this,e=this;localStorage.getItem("idpeta")?this.$store.state.data.idpeta=localStorage.getItem("idpeta"):this.$store.state.data.idpeta=!1,localStorage.getItem("kategori")?this.$store.state.data.kategori=localStorage.getItem("kategori"):this.$store.state.data.kategori=!1,setTimeout((function(){t.$store.state.data.kategori&&(t.listMenu.push({group:"Edit Peta",icon:"cog",level:["SuperAdmin","Admin"],menu:[{name:"Floorplan",link:"/admin/floorplan?id=".concat(t.$store.state.data.idpeta,"&nama=").concat(t.$store.state.data.kategori),level:["SuperAdmin","Admin"],icon:"cog"},{name:"Map Marker",link:"/admin/kategori/floorplan?id=".concat(t.$store.state.data.idpeta,"&nama=").concat(t.$store.state.data.kategori),level:["SuperAdmin","Admin"],icon:"cog"},{name:"Add Event Info",link:"/admin/kategori/room?id=".concat(t.$store.state.data.idpeta,"&nama=").concat(t.$store.state.data.kategori),level:["SuperAdmin","Admin"],icon:"cog"},{name:"Create GeoJSON",link:"/admin/kategori/floorplan?id=".concat(t.$store.state.data.idpeta,"&nama=").concat(t.$store.state.data.kategori,"&geo=true"),level:["SuperAdmin","Admin"],icon:"cog"},{name:"Upload GeoJSON",link:"/admin/kategori/geojson?id=".concat(t.$store.state.data.idpeta,"&nama=").concat(t.$store.state.data.kategori),level:["SuperAdmin","Admin"],icon:"cog"}]}),t.listMenu.push({group:"Fasilitas Highlight",icon:"home",level:["SuperAdmin","Admin",""],menu:[{name:"Kategori Fasilitas",link:"/admin/fasilitas?id=".concat(t.$store.state.data.idpeta,"&nama=").concat(t.$store.state.data.kategori),level:["SuperAdmin","Admin"],icon:"cog"}]}))}),2e3),this.getListComment(),this.getToko(),m.ref("/chat/admin").on("value",(function(e){t.getListComment()})),m.ref("/notifikasi/admin").on("value",(function(t){g.collection("app_kasir_notifikasi").doc().select("select * from app_kasir_notifikasi where tujuan='admin'").then((function(t){console.log(t),e.notif=t.filter((function(t){if("false"==t.dibaca)return t})).length,e.notifikasi=t}))}))},data:function(){return{bgleft1:"#fff",test:1,menuTrigger:!1,menuKanan:!1,ready:!1,notifikasi:[],notif:0,notifchat:0,toko:[],busy:!1,listMenu:[{group:"Map",icon:"map",level:["SuperAdmin","Admin"],menu:[{name:"Map",link:"/admin/kategori",level:["SuperAdmin","Admin"],icon:"map"}]}]}}}),f=p,h=(a("a3a3"),a("2877")),v=Object(h["a"])(f,i,n,!1,null,"5760e010",null);e["default"]=v.exports},a3a3:function(t,e,a){"use strict";a("ba0a")},ba0a:function(t,e,a){}}]);
//# sourceMappingURL=chunk-0f2e0398.05713ee1.js.map